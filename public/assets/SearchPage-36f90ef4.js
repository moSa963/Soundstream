import{r as j,i as m,j as r,R as h,P as v,I as y,b as C,A as g,T as p,c as S,B,D as P,d as w}from"./index-a63961a1.js";import{a as R,C as n}from"./Card-b9222e5f.js";import{P as x}from"./PlaylistCard-a0c0e60e.js";import{T as _}from"./TrackCard-f974bf33.js";import"./HorizontalList-36e01cf4.js";var l={},b=m;Object.defineProperty(l,"__esModule",{value:!0});var d=l.default=void 0,k=b(j()),D=r,I=(0,k.default)((0,D.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");d=l.default=I;const T=({onSearch:e})=>{const[t,o]=h.useState("");return r.jsxs(v,{sx:{flex:1,":hover":{boxShadow:s=>s.shadows[5],filter:"contrast(90%)"},width:"100%",borderRadius:2,display:"flex",overflow:"hidden",top:0,zIndex:2},children:[r.jsx(y,{onKeyUp:s=>s.key==="Enter"&&e&&e(t),value:t,onChange:s=>o(s.currentTarget.value),placeholder:"Search...",sx:{width:"100%",px:2,fontSize:30}}),r.jsx(C,{onClick:()=>e&&e(t),children:r.jsx(d,{})})]})},W=({data:e})=>r.jsxs(R,{src:`${g}api/account/${e.username}/profile/photo`,to:`/user/${e.username}`,children:[r.jsx(p,{noWrap:!0,children:e==null?void 0:e.name}),r.jsxs(p,{variant:"caption",color:"gray",fontFamily:"serif",children:["@",e==null?void 0:e.username]})]}),L=()=>{var a,i,u,c;const[e,t]=h.useState({}),{setError:o}=S(),s=f=>{q(f,t,o)};return r.jsxs(B,{sx:{width:"100%",p:2},children:[r.jsx(T,{onSearch:s}),r.jsx(P,{sx:{my:5}}),!!((a=e==null?void 0:e.tracks)!=null&&a.length)&&r.jsx(n,{title:"Tracks",Card:_,data:e==null?void 0:e.tracks,noWrap:!0}),!!((i=e==null?void 0:e.albums)!=null&&i.length)&&r.jsx(n,{title:"Albums",Card:x,data:e==null?void 0:e.albums,noWrap:!0}),!!((u=e==null?void 0:e.playlists)!=null&&u.length)&&r.jsx(n,{title:"Playlists",Card:x,data:e==null?void 0:e.playlists,noWrap:!0}),!!((c=e==null?void 0:e.users)!=null&&c.length)&&r.jsx(n,{title:"Users",Card:W,data:e==null?void 0:e.users,noWrap:!0})]})},q=async(e,t,o)=>{try{const a=await(await w(`api/search/${e}`)).json();t(a.data)}catch(s){o(s)}};export{L as default};
